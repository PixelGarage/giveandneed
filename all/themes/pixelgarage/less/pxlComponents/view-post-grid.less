/*
 *  Post grid view component
 * --------------------------------------------------*/

// Variables
// -------------------------
@pxl-badge-dim-small: 22px;
@pxl-badge-dim: 30px;
@pxl-badge-border-color: rgba(255,255,255,0.0);
@pxl-badge-bg-color: @pxl-color-red;

@pxl-item-grid-gutter: 5px;
@pxl-item-bg: @pxl-color-icon-light;


// Mixins
// -------------------------



// General settings
// -------------------------
.view-post-grid {
  margin: 20px 0;
  width: 100%;

  @media @tablet {
    margin: 25px 0;
  }
  @media @normal {
    margin: 50px 0;
  }

  .view-content {
    .pe-container {
      .pe-item {
        position: relative;
        display: inline-block;
        vertical-align: top;
        margin: 0 -2px;
        width: 50%;
        padding: @pxl-item-grid-gutter;
        height: auto;

        @media @narrow {
          width: 33.3333333%;
        }
        @media @tablet {
          width: 33.3333333%;
        }
        @media @normal {
          width: 33.3333333%;
        }

        .pe-item-inner {
          cursor: pointer;
          position: relative;
          margin: 0;
          width: 100%;
          height: 0;
          padding-bottom: 100%;
          #pxl-mixins.border-radius(@border-radius-large);
          background: @pxl-item-bg none;

          &:hover {
            background: rgba(255, 82, 104, 0.8) none;
          }

          a.btn {
            display: block;
            padding: 13.5%;
            outline: none;

            &.active, &:hover, &:focus {
              outline: none;
            }

            .views-field-field-image {
              padding: 0;

              img {
                width: 100%;
                height: auto;
                min-width: 100%;
              }
            }

            // badge
            .views-field-nid {
              position: absolute;
              top: -@pxl-badge-dim-small/4;
              right: -@pxl-badge-dim-small/4;
              width: auto;
              height: @pxl-badge-dim-small;
              text-align: center;
              #pxl-mixins.border-radius(@pxl-badge-dim-small/2);
              background: @pxl-badge-bg-color none;

              .field-content {
                display: block;
                padding: 0 7px;
                width: auto;
                min-width: @pxl-badge-dim-small;
                font-family: @pxl-text-font;
                font-size: 13px;
                color: @text-color-light;
                line-height: @pxl-badge-dim-small;
              }

              @media @narrow {
                top: -@pxl-badge-dim/4;
                right: -@pxl-badge-dim/4;
                height: @pxl-badge-dim;
                #pxl-mixins.border-radius(@pxl-badge-dim/2);

                .field-content {
                  min-width: @pxl-badge-dim;
                  padding: 0 10px;
                  font-size: @font-size-base;
                  line-height: @pxl-badge-dim;
                }
              }
            }
          }
        }  // pe-item-inner
      }  // pe-item
    }  // pe-container
  }  // content
}
